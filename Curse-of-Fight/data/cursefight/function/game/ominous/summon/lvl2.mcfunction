execute store result score @s player_random run random value 1..3
effect give @s minecraft:bad_omen infinite 4
schedule function cursefight:game/ominous/summon/potion 5s
execute if score @s player_random matches 1 at @s run setblock ~ ~ ~ minecraft:trial_spawner{ominous_config:{items_to_drop_when_ominous:"cursefight:ominous/drop"},ejecting_loot_table:"cursefight:ominous/loot",spawn_data:{entity:{"id":"minecraft:potion",Health:1,Attributes:[{Name:"max_health",Base:1f}],Passengers:[{id:"minecraft:bat",Health:1,Attributes:[{Name:"max_health",Base:1f}],Passengers:[{id:"minecraft:guardian",Health:1,Attributes:[{Name:"max_health",Base:1f}]}]}]}}} replace
execute if score @s player_random matches 2 at @s run setblock ~ ~ ~ minecraft:trial_spawner{ominous_config:{items_to_drop_when_ominous:"cursefight:ominous/drop"},ejecting_loot_table:"cursefight:ominous/loot",spawn_data:{entity:{"id":"minecraft:zoglin",Health:20,Attributes:[{Name:"max_health",Base:10f}],Passengers:[{id:"minecraft:frog",Health:10,Attributes:[{Name:"max_health",Base:10f}]}]}}} replace
execute if score @s player_random matches 3 at @s run setblock ~ ~ ~ minecraft:trial_spawner{ominous_config:{items_to_drop_when_ominous:"cursefight:ominous/drop"},ejecting_loot_table:"cursefight:ominous/loot",spawn_data:{entity:{"id":"minecraft:skeleton",Health:15,Attributes:[{Name:"max_health",Base:15f}],Passengers:[{id:"minecraft:potion",Health:10,Attributes:[{Name:"max_health",Base:10f}],Passengers:[{id:"minecraft:stray",Health:10,Attributes:[{Name:"max_health",Base:10f}],Passengers:[{id:"minecraft:potion",Health:10,Attributes:[{Name:"max_health",Base:10f}],Passengers:[{id:"minecraft:bogged",Health:10,Attributes:[{Name:"max_health",Base:10f}],Passengers:[{id:"minecraft:potion",Health:10,Attributes:[{Name:"max_health",Base:10f}],Passengers:[{id:"minecraft:wither_skeleton",Health:10,Attributes:[{Name:"max_health",Base:10f}]}]}]}]}]}]}]}}} replace