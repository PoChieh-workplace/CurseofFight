execute if score #hit in.fire_laser matches 0 positioned ~-0.05 ~-0.05 ~-0.05 as @e[type=#incendium:mobs,tag=!laser,dx=0,sort=nearest] positioned ~-0.85 ~-0.85 ~-0.85 if entity @s[dx=0] run function incendium:item/voltaic_trident/explode/lightning/hit_entity_chain
scoreboard players add #distance2 in.fire_laser 1
execute positioned ^ ^ ^0.2 unless block ^ ^ ^ #incendium:airs if entity @p[predicate=incendium:holding/voltaic_trident,distance=..7] run function incendium:item/voltaic_trident/explode/lightning/stop
particle minecraft:dust{color:[0.6, 0.1, 1.0], scale:1.0} ~ ~ ~ 0.01 0.01 0.01 0.0 1 force

execute if score #hit in.fire_laser matches 0 if predicate incendium:random/5 if score #distance2 in.fire_laser matches 0..120 positioned ^ ^ ^0.2 rotated ~-26 ~ if block ~ ~ ~ #incendium:airs run function incendium:item/voltaic_trident/explode/lightning/branch
execute if score #hit in.fire_laser matches 0 if predicate incendium:random/5 if score #distance2 in.fire_laser matches 0..120 positioned ^ ^ ^0.2 rotated ~26 ~ if block ~ ~ ~ #incendium:airs run function incendium:item/voltaic_trident/explode/lightning/branch
execute if score #hit in.fire_laser matches 0 if predicate incendium:random/5 if score #distance2 in.fire_laser matches 0..120 positioned ^ ^ ^0.2 rotated ~ ~-26 if block ~ ~ ~ #incendium:airs run function incendium:item/voltaic_trident/explode/lightning/branch
execute if score #hit in.fire_laser matches 0 if predicate incendium:random/5 if score #distance2 in.fire_laser matches 0..120 positioned ^ ^ ^0.2 rotated ~ ~26 if block ~ ~ ~ #incendium:airs run function incendium:item/voltaic_trident/explode/lightning/branch
execute if score #hit in.fire_laser matches 0 if predicate incendium:random/20 if score #distance2 in.fire_laser matches 0..120 positioned ^ ^ ^0.2 rotated ~-26 ~ if block ~ ~ ~ #incendium:airs run function incendium:item/voltaic_trident/explode/lightning/branch_straight
execute if score #hit in.fire_laser matches 0 if predicate incendium:random/20 if score #distance2 in.fire_laser matches 0..120 positioned ^ ^ ^0.2 rotated ~26 ~ if block ~ ~ ~ #incendium:airs run function incendium:item/voltaic_trident/explode/lightning/branch_straight
execute if score #hit in.fire_laser matches 0 if predicate incendium:random/20 if score #distance2 in.fire_laser matches 0..120 positioned ^ ^ ^0.2 rotated ~ ~-26 if block ~ ~ ~ #incendium:airs run function incendium:item/voltaic_trident/explode/lightning/branch_straight
execute if score #hit in.fire_laser matches 0 if predicate incendium:random/20 if score #distance2 in.fire_laser matches 0..120 positioned ^ ^ ^0.2 rotated ~ ~26 if block ~ ~ ~ #incendium:airs run function incendium:item/voltaic_trident/explode/lightning/branch_straight
execute if score #hit in.fire_laser matches 0 if predicate incendium:random/70 if score #distance2 in.fire_laser matches ..120 positioned ^ ^ ^0.2 rotated ~ ~ if block ~ ~ ~ #incendium:airs run function incendium:item/voltaic_trident/explode/lightning/branch
